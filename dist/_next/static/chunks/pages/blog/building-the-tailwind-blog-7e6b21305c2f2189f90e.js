(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9352],{21370:function(e,t){"use strict";t.Z="/_next/static/media/social-square.b622e290e82093c36cca57092ffe494f.jpg"},30667:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSG:function(){return h},default:function(){return g}});var n=a(159),s=a(10219),o=(a(67294),a(3905)),r=(a(41664),a(34304)),p=a(29852),c=a(6953),l=a(65409);const m=["components"],i={title:"Building the Tailwind Blog with Next.js",description:"One of the things we believe as a team is that everything we make should be sealed with a blog post. Forcing ourselves to write up a short announcement post for every project we work on acts as a built-in quality check, making sure that we never call a project \"done\" until we feel comfortable telling the world it's out there. The problem was that up until today, we didn't actually have anywhere to publish those posts!",date:"2020-06-30T18:05:31Z",authors:[c.Oq],image:l.Z},k=(d="Footer",function(e){return console.warn("Component "+d+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",e)});var d;const u={meta:i,slug:"building-the-tailwind-blog",tableOfContents:[{title:"Choosing a platform",slug:"choosing-a-platform",children:[]},{title:"Organizing our content",slug:"organizing-our-content",children:[]},{title:"Metadata",slug:"metadata",children:[]},{title:"Displaying post previews",slug:"displaying-post-previews",children:[]},{title:"Generating next/previous post links",slug:"generating-next-previous-post-links",children:[]},{title:"Wrapping up",slug:"wrapping-up",children:[]}]},N=p.B;var h=!0;function g(e){let{components:t}=e,a=(0,s.Z)(e,m);return(0,o.kt)(N,(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"One of the things we believe as a team is that everything we make should be ",(0,o.kt)("a",{parentName:"p",href:"https://public.3.basecamp.com/p/toAcDMxu8Fvq2yMfd2azTuaV"},"sealed with a blog post"),". Forcing ourselves to write up a short announcement post for every project we work on acts as a built-in quality check, making sure that we never call a project \u201cdone\u201d until we feel comfortable telling the world it\u2019s out there."),(0,o.kt)("p",null,"The problem was that up until today, we didn\u2019t actually have anywhere to publish those posts!"),(0,o.kt)(r.X,{level:2,id:"choosing-a-platform",nextElement:{type:"paragraph"}},"Choosing a platform"),(0,o.kt)("p",null,"We\u2019re a team of developers so naturally there was no way we could convince ourselves to use something off-the-shelf, and opted to build something simple and custom with ",(0,o.kt)("a",{parentName:"p",href:"http://nextjs.org"},"Next.js"),"."),(0,o.kt)("p",null,"There are a lot of things to like about Next.js, but the primary reason we decided to use it is that it has great support for ",(0,o.kt)("a",{parentName:"p",href:"https://mdxjs.com/"},"MDX"),", which is the format we wanted to use to author our posts."),(0,o.kt)("pre",{className:"language-md"},(0,o.kt)("code",{parentName:"pre",className:"language-md"},(0,o.kt)("span",{parentName:"code",className:"token title important"},(0,o.kt)("span",{parentName:"span",className:"token punctuation"},"#")," My first MDX post"),"\n\nMDX is a really cool authoring format because it lets\nyou embed React components right in your markdown:\n\n",(0,o.kt)("span",{parentName:"code",className:"token tag"},(0,o.kt)("span",{parentName:"span",className:"token tag"},(0,o.kt)("span",{parentName:"span",className:"token punctuation"},"<"),"MyComponent")," ",(0,o.kt)("span",{parentName:"span",className:"token attr-name"},"myProp"),(0,o.kt)("span",{parentName:"span",className:"token attr-value"},(0,o.kt)("span",{parentName:"span",className:"token punctuation attr-equals"},"="),"{5}")," ",(0,o.kt)("span",{parentName:"span",className:"token punctuation"},"/>")),"\n\nHow cool is that?")),(0,o.kt)("p",null,"MDX is really interesting because unlike regular Markdown, you can embed live React components directly in your content. This is exciting because it unlocks a lot of opportunities in how you communicate ideas in your writing. Instead of relying only on images, videos, or code blocks, you can build interactive demos and stick them directly between two paragraphs of content, without throwing away the ergonomics of authoring in Markdown."),(0,o.kt)("p",null,"We\u2019re planning to do a redesign and rebuild of the Tailwind CSS documentation site later this year and being able to embed interactive components makes a huge difference in our ability to teach how the framework works, so using our little blog site as a test project made a lot of sense."),(0,o.kt)(r.X,{level:2,id:"organizing-our-content",nextElement:{type:"paragraph"}},"Organizing our content"),(0,o.kt)("p",null,"We started by writing posts as simple MDX documents that lived directly in the ",(0,o.kt)("inlineCode",{parentName:"p"},"pages")," directory. Eventually though we realized that just about every post would also have associated assets, for example an Open Graph image at the bare minimum."),(0,o.kt)("p",null,"Having to store those in another folder felt a bit sloppy, so we decided instead to give every post its own folder in the ",(0,o.kt)("inlineCode",{parentName:"p"},"pages")," directory, and put the post content in an ",(0,o.kt)("inlineCode",{parentName:"p"},"index.mdx")," file."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"public/\nsrc/\n\u251c\u2500\u2500 components/\n\u251c\u2500\u2500 css/\n\u251c\u2500\u2500 img/\n\u2514\u2500\u2500 pages/\n    \u251c\u2500\u2500 building-the-tailwindcss-blog/\n    \u2502   \u251c\u2500\u2500 index.mdx\n    \u2502   \u2514\u2500\u2500 card.jpeg\n    \u251c\u2500\u2500 introducing-linting-for-tailwindcss-intellisense/\n    \u2502   \u251c\u2500\u2500 index.mdx\n    \u2502   \u251c\u2500\u2500 css.png\n    \u2502   \u251c\u2500\u2500 html.png\n    \u2502   \u2514\u2500\u2500 card.jpeg\n    \u251c\u2500\u2500 _app.js\n    \u251c\u2500\u2500 _document.js\n    \u2514\u2500\u2500 index.js\nnext.config.js\npackage.json\npostcss.config.js\nREADME.md\ntailwind.config.js\n")),(0,o.kt)("p",null,"This let us co-locate any assets for that post in the same folder, and leverage webpack\u2019s ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/tailwindcss/blog/blob/59bd38f2f423f133c0b6157a925ec2875ce880af/next.config.js#L28-L39"},"file-loader")," to import those assets directly into the post."),(0,o.kt)(r.X,{level:2,id:"metadata",nextElement:{type:"paragraph"}},"Metadata"),(0,o.kt)("p",null,"We store metadata about each post in a ",(0,o.kt)("inlineCode",{parentName:"p"},"meta")," object that we export at the top of each MDX file:"),(0,o.kt)("pre",{className:"language-js"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},(0,o.kt)("span",{parentName:"code",className:"token keyword module"},"import")," ",(0,o.kt)("span",{parentName:"code",className:"token imports"},(0,o.kt)("span",{parentName:"span",className:"token punctuation"},"{")," bradlc ",(0,o.kt)("span",{parentName:"span",className:"token punctuation"},"}"))," ",(0,o.kt)("span",{parentName:"code",className:"token keyword module"},"from")," ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'@/authors'"),"\n",(0,o.kt)("span",{parentName:"code",className:"token keyword module"},"import")," ",(0,o.kt)("span",{parentName:"code",className:"token imports"},"openGraphImage")," ",(0,o.kt)("span",{parentName:"code",className:"token keyword module"},"from")," ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'./card.jpeg'"),"\n\n",(0,o.kt)("span",{parentName:"code",className:"token keyword module"},"export")," ",(0,o.kt)("span",{parentName:"code",className:"token keyword"},"const")," meta ",(0,o.kt)("span",{parentName:"code",className:"token operator"},"=")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"title"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'Introducing linting for Tailwind CSS IntelliSense'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"description"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,o.kt)("span",{parentName:"code",className:"token template-string"},(0,o.kt)("span",{parentName:"span",className:"token template-punctuation string"},"`"),(0,o.kt)("span",{parentName:"span",className:"token string"},"Today we\u2019re releasing a new version of the Tailwind CSS IntelliSense extension for Visual Studio Code that adds Tailwind-specific linting to both your CSS and your markup."),(0,o.kt)("span",{parentName:"span",className:"token template-punctuation string"},"`")),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"date"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'2020-06-23T18:52:03Z'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"authors"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"["),"bradlc",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"]"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"image"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," openGraphImage",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"discussion"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'https://github.com/tailwindcss/tailwindcss/discussions/1956'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",(0,o.kt)("span",{parentName:"code",className:"token comment"},"// Post content goes here"))),(0,o.kt)("p",null,"This is where we define the post title (used for the actual ",(0,o.kt)("inlineCode",{parentName:"p"},"h1")," on the post page and the page title), the description (for Open Graph previews), the publish date, the authors, the Open Graph image, and a link to the GitHub Discussions thread for the post."),(0,o.kt)("p",null,"We store all of our authors data in a separate file that just contains each team member\u2019s name, Twitter handle, and avatar."),(0,o.kt)("pre",{className:"language-js"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},(0,o.kt)("span",{parentName:"code",className:"token keyword module"},"import")," ",(0,o.kt)("span",{parentName:"code",className:"token imports"},"adamwathanAvatar")," ",(0,o.kt)("span",{parentName:"code",className:"token keyword module"},"from")," ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'./img/adamwathan.jpg'"),"\n",(0,o.kt)("span",{parentName:"code",className:"token keyword module"},"import")," ",(0,o.kt)("span",{parentName:"code",className:"token imports"},"bradlcAvatar")," ",(0,o.kt)("span",{parentName:"code",className:"token keyword module"},"from")," ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'./img/bradlc.jpg'"),"\n",(0,o.kt)("span",{parentName:"code",className:"token keyword module"},"import")," ",(0,o.kt)("span",{parentName:"code",className:"token imports"},"steveschogerAvatar")," ",(0,o.kt)("span",{parentName:"code",className:"token keyword module"},"from")," ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'./img/steveschoger.jpg'"),"\n\n",(0,o.kt)("span",{parentName:"code",className:"token keyword module"},"export")," ",(0,o.kt)("span",{parentName:"code",className:"token keyword"},"const")," adamwathan ",(0,o.kt)("span",{parentName:"code",className:"token operator"},"=")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"name"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'Adam Wathan'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"twitter"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'@adamwathan'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"avatar"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," adamwathanAvatar",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",(0,o.kt)("span",{parentName:"code",className:"token keyword module"},"export")," ",(0,o.kt)("span",{parentName:"code",className:"token keyword"},"const")," bradlc ",(0,o.kt)("span",{parentName:"code",className:"token operator"},"=")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"name"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'Brad Cornes'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"twitter"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'@bradlc'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"avatar"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," bradlcAvatar",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",(0,o.kt)("span",{parentName:"code",className:"token keyword module"},"export")," ",(0,o.kt)("span",{parentName:"code",className:"token keyword"},"const")," steveschoger ",(0,o.kt)("span",{parentName:"code",className:"token operator"},"=")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"name"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'Steve Schoger'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"twitter"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'@steveschoger'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"avatar"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," steveschogerAvatar",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"}"))),(0,o.kt)("p",null,"The nice thing about actually importing the author object into a post instead of connecting it through some sort of identifier is that we can easily add an author inline if we wanted to:"),(0,o.kt)("pre",{className:"language-js"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},(0,o.kt)("span",{parentName:"code",className:"token keyword module"},"export")," ",(0,o.kt)("span",{parentName:"code",className:"token keyword"},"const")," meta ",(0,o.kt)("span",{parentName:"code",className:"token operator"},"=")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"title"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'An example of a guest post by someone not on the team'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"authors"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"["),"\n    ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"name"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'Simon Vrachliotis'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n      ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"twitter"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'@simonswiss'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n      ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"avatar"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'https://pbs.twimg.com/profile_images/1160929863/n510426211_274341_6220_400x400.jpg'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"]"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token comment"},"// ..."),"\n",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"}"))),(0,o.kt)("p",null,"This makes it easy for us to keep author information in sync by giving it a central source of truth, but doesn\u2019t give up any flexibility."),(0,o.kt)(r.X,{level:2,id:"displaying-post-previews",nextElement:{type:"paragraph"}},"Displaying post previews"),(0,o.kt)("p",null,"We wanted to display previews for each post on the homepage, and this turned out to be a surprisingly challenging problem."),(0,o.kt)("p",null,"Essentially what we wanted to be able to do was use the ",(0,o.kt)("inlineCode",{parentName:"p"},"getStaticProps")," feature of Next.js to get a list of all the posts at build-time, extract the information we need, and pass that in to the actual page component to render."),(0,o.kt)("p",null,"The challenge is that we wanted to do this without actually importing every single page, because that would mean that our bundle for the homepage would contain every single blog post for the entire site, leading to a much bigger bundle than necessary. Maybe not a big deal right now when we only have a couple of posts, but once you\u2019re up to dozens or hundreds of posts that\u2019s a lot of wasted bytes."),(0,o.kt)("p",null,"We tried a few different approaches but the one we settled on was using webpack\u2019s ",(0,o.kt)("a",{parentName:"p",href:"https://webpack.js.org/configuration/module/#ruleresourcequery"},"resourceQuery")," feature combined with a couple of custom loaders to make it possible to load each blog post in two formats:"),(0,o.kt)("ol",{role:"list"},(0,o.kt)("li",{parentName:"ol"},"The entire post, used for post pages."),(0,o.kt)("li",{parentName:"ol"},"The post preview, where we load the minimum data needed for the homepage.")),(0,o.kt)("p",null,"The way we set it up, any time we add a ",(0,o.kt)("inlineCode",{parentName:"p"},"?preview")," query to the end of an import for an individual post, we get back a much smaller version of that post that just includes the metadata and the preview excerpt, rather than the entire post content."),(0,o.kt)("p",null,"Here\u2019s a snippet of what that custom loader looks like:"),(0,o.kt)("pre",{className:"language-js"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"resourceQuery"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,o.kt)("span",{parentName:"code",className:"token regex"},(0,o.kt)("span",{parentName:"span",className:"token regex-delimiter"},"/"),(0,o.kt)("span",{parentName:"span",className:"token regex-source language-regex"},"preview"),(0,o.kt)("span",{parentName:"span",className:"token regex-delimiter"},"/")),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"use"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"["),"\n    ",(0,o.kt)("span",{parentName:"code",className:"token spread operator"},"..."),"mdx",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,o.kt)("span",{parentName:"code",className:"token function"},"createLoader"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token keyword"},"function")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token parameter"},"src"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",(0,o.kt)("span",{parentName:"code",className:"token keyword control-flow"},"if")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),"src",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token method function property-access"},"includes"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token string"},"'\x3c!--\u200bmore\u200b--\x3e'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",(0,o.kt)("span",{parentName:"code",className:"token keyword"},"const")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"["),"preview",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"]")," ",(0,o.kt)("span",{parentName:"code",className:"token operator"},"=")," src",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token method function property-access"},"split"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token string"},"'\x3c!--\u200bmore\u200b--\x3e'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")"),"\n        ",(0,o.kt)("span",{parentName:"code",className:"token keyword control-flow"},"return")," ",(0,o.kt)("span",{parentName:"code",className:"token keyword"},"this"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token method function property-access"},"callback"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token keyword null nil"},"null"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},",")," preview",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")"),"\n      ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n      ",(0,o.kt)("span",{parentName:"code",className:"token keyword"},"const")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"["),"preview",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"]")," ",(0,o.kt)("span",{parentName:"code",className:"token operator"},"=")," src",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token method function property-access"},"split"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token string"},"'\x3c!--\u200b/excerpt\u200b--\x3e'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")"),"\n      ",(0,o.kt)("span",{parentName:"code",className:"token keyword control-flow"},"return")," ",(0,o.kt)("span",{parentName:"code",className:"token keyword"},"this"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token method function property-access"},"callback"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token keyword null nil"},"null"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},",")," preview",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token method function property-access"},"replace"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token string"},"'\x3c!--\u200bexcerpt\u200b--\x3e'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,o.kt)("span",{parentName:"code",className:"token string"},"''"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"]"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","))),(0,o.kt)("p",null,"It lets us define the excerpt for each post either by sticking ",(0,o.kt)("inlineCode",{parentName:"p"},"\x3c!--\u200bmore--\x3e")," after the intro paragraph, or by wrapping the excerpt in a pair of ",(0,o.kt)("inlineCode",{parentName:"p"},"\x3c!--\u200bexcerpt--\x3e")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"\x3c!--\u200b/excerpt--\x3e")," tags, allowing us to write an excerpt that\u2019s completely independent from the post content."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"const meta = {\n  // ...\n}\n\nThis is the beginning of the post, and what we'd like to\nshow on the homepage.\n\n\x3c!--\u200bmore--\x3e\n\nAnything after that is not included in the bundle unless\nyou are actually viewing that post.\n")),(0,o.kt)("p",null,"Solving this problem in an elegant way was pretty challenging, but ultimately it was cool to come up with a solution that let us keep everything in one file instead of using a separate file for the preview and the actual post content."),(0,o.kt)(r.X,{level:2,id:"generating-next-previous-post-links",nextElement:{type:"paragraph"}},"Generating next/previous post links"),(0,o.kt)("p",null,"The last challenge we had when building this simple site was being able to include links to the next and previous post whenever you\u2019re viewing an individual post."),(0,o.kt)("p",null,"At its core, what we needed to do was load up all of the posts (ideally at build-time), find the current post in that list, then grab the post that came before and the post that came after so we could pass those through to the page component as props."),(0,o.kt)("p",null,"This ended up being harder than we expected, because it turns out that MDX doesn\u2019t currently support ",(0,o.kt)("inlineCode",{parentName:"p"},"getStaticProps")," the way you\u2019d normally use it. You can\u2019t actually export it directly from your MDX files, instead you have to store your code in a separate file and re-export it from there."),(0,o.kt)("p",null,"We didn\u2019t want to load this extra code when just importing our post ",(0,o.kt)("em",{parentName:"p"},"previews")," on the homepage, and we also didn\u2019t want to have to repeat this code in every single post, so we decided to prepend this export to the beginning of each post using another custom loader:"),(0,o.kt)("pre",{className:"language-js"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"use"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"["),"\n    ",(0,o.kt)("span",{parentName:"code",className:"token spread operator"},"..."),"mdx",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,o.kt)("span",{parentName:"code",className:"token function"},"createLoader"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token keyword"},"function")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token parameter"},"src"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",(0,o.kt)("span",{parentName:"code",className:"token keyword"},"const")," content ",(0,o.kt)("span",{parentName:"code",className:"token operator"},"=")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"["),"\n        ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'import Post from \"@/components/Post\"'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'export { getStaticProps } from \"@/getStaticProps\"'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n        src",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'export default (props) => <Post meta={meta} {...props} />'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n      ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"]"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token method function property-access"},"join"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token string"},"'\\n'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")"),"\n\n      ",(0,o.kt)("span",{parentName:"code",className:"token keyword control-flow"},"if")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),"content",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token method function property-access"},"includes"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token string"},"'\x3c!--\u200bmore--\x3e'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",(0,o.kt)("span",{parentName:"code",className:"token keyword control-flow"},"return")," ",(0,o.kt)("span",{parentName:"code",className:"token keyword"},"this"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token method function property-access"},"callback"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token keyword null nil"},"null"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},",")," content",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token method function property-access"},"split"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token string"},"'\x3c!--\u200bmore--\x3e'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token method function property-access"},"join"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token string"},"'\\n'"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")"),"\n      ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n      ",(0,o.kt)("span",{parentName:"code",className:"token keyword control-flow"},"return")," ",(0,o.kt)("span",{parentName:"code",className:"token keyword"},"this"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token method function property-access"},"callback"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token keyword null nil"},"null"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},",")," content",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token method function property-access"},"replace"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token regex"},(0,o.kt)("span",{parentName:"span",className:"token regex-delimiter"},"/"),(0,o.kt)("span",{parentName:"span",className:"token regex-source language-regex"},"\x3c!--\u200bexcerpt--\x3e",(0,o.kt)("span",{parentName:"span",className:"token char-set class-name"},"."),(0,o.kt)("span",{parentName:"span",className:"token quantifier number"},"*"),"\x3c!--",(0,o.kt)("span",{parentName:"span",className:"token escape"},"\\/"),"excerpt--\x3e"),(0,o.kt)("span",{parentName:"span",className:"token regex-delimiter"},"/"),(0,o.kt)("span",{parentName:"span",className:"token regex-flags"},"s")),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,o.kt)("span",{parentName:"code",className:"token string"},"''"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"]"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"}"))),(0,o.kt)("p",null,"We also needed to use this custom loader to actually pass those static props to our ",(0,o.kt)("inlineCode",{parentName:"p"},"Post")," component, so we appended that extra export you see above as well."),(0,o.kt)("p",null,"This wasn\u2019t the only issue though. It turns out ",(0,o.kt)("inlineCode",{parentName:"p"},"getStaticProps")," doesn\u2019t give you any information about the current page being rendered, so we had no way of knowing what post we were looking at when trying to determine the next and previous posts. I suspect this is solvable, but due to time constraints we opted to do more of that work on the client and less at build time, so we could actually see what the current route was when trying to figure out which links we needed."),(0,o.kt)("p",null,"We load up all of the posts in ",(0,o.kt)("inlineCode",{parentName:"p"},"getStaticProps"),", and map them to very lightweight objects that just contain the URL for the post, and the post title:"),(0,o.kt)("pre",{className:"language-js"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},(0,o.kt)("span",{parentName:"code",className:"token keyword module"},"import")," ",(0,o.kt)("span",{parentName:"code",className:"token imports"},"getAllPostPreviews")," ",(0,o.kt)("span",{parentName:"code",className:"token keyword module"},"from")," ",(0,o.kt)("span",{parentName:"code",className:"token string"},"'@/getAllPostPreviews'"),"\n\n",(0,o.kt)("span",{parentName:"code",className:"token keyword module"},"export")," ",(0,o.kt)("span",{parentName:"code",className:"token keyword"},"async")," ",(0,o.kt)("span",{parentName:"code",className:"token keyword"},"function")," ",(0,o.kt)("span",{parentName:"code",className:"token function"},"getStaticProps"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token keyword control-flow"},"return")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"props"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"posts"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,o.kt)("span",{parentName:"code",className:"token function"},"getAllPostPreviews"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token method function property-access"},"map"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token parameter"},"post"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,o.kt)("span",{parentName:"code",className:"token arrow operator"},"=>")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"title"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," post",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token property-access"},"module"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token property-access"},"meta"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token property-access"},"title"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,o.kt)("span",{parentName:"code",className:"token literal-property property"},"link"),(0,o.kt)("span",{parentName:"code",className:"token operator"},":")," post",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token property-access"},"link"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token method function property-access"},"substr"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token number"},"1"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n      ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"}"))),(0,o.kt)("p",null,"Then in our actual ",(0,o.kt)("inlineCode",{parentName:"p"},"Post")," layout component, we use the current route to determine the next and previous posts:"),(0,o.kt)("pre",{className:"language-js"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},(0,o.kt)("span",{parentName:"code",className:"token keyword module"},"export")," ",(0,o.kt)("span",{parentName:"code",className:"token keyword module"},"default")," ",(0,o.kt)("span",{parentName:"code",className:"token keyword"},"function")," ",(0,o.kt)("span",{parentName:"code",className:"token function"},(0,o.kt)("span",{parentName:"span",className:"token maybe-class-name"},"Post")),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token parameter"},(0,o.kt)("span",{parentName:"span",className:"token punctuation"},"{")," meta",(0,o.kt)("span",{parentName:"span",className:"token punctuation"},",")," children",(0,o.kt)("span",{parentName:"span",className:"token punctuation"},",")," posts ",(0,o.kt)("span",{parentName:"span",className:"token punctuation"},"}")),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token keyword"},"const")," router ",(0,o.kt)("span",{parentName:"code",className:"token operator"},"=")," ",(0,o.kt)("span",{parentName:"code",className:"token function"},"useRouter"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token keyword"},"const")," postIndex ",(0,o.kt)("span",{parentName:"code",className:"token operator"},"=")," posts",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token method function property-access"},"findIndex"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,o.kt)("span",{parentName:"code",className:"token parameter"},"post"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,o.kt)("span",{parentName:"code",className:"token arrow operator"},"=>")," post",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token property-access"},"link")," ",(0,o.kt)("span",{parentName:"code",className:"token operator"},"===")," router",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,o.kt)("span",{parentName:"code",className:"token property-access"},"pathname"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},")"),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token keyword"},"const")," previous ",(0,o.kt)("span",{parentName:"code",className:"token operator"},"=")," posts",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"["),"postIndex ",(0,o.kt)("span",{parentName:"code",className:"token operator"},"+")," ",(0,o.kt)("span",{parentName:"code",className:"token number"},"1"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"]"),"\n  ",(0,o.kt)("span",{parentName:"code",className:"token keyword"},"const")," next ",(0,o.kt)("span",{parentName:"code",className:"token operator"},"=")," posts",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"["),"postIndex ",(0,o.kt)("span",{parentName:"code",className:"token operator"},"-")," ",(0,o.kt)("span",{parentName:"code",className:"token number"},"1"),(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"]"),"\n\n  ",(0,o.kt)("span",{parentName:"code",className:"token comment"},"// ..."),"\n",(0,o.kt)("span",{parentName:"code",className:"token punctuation"},"}"))),(0,o.kt)("p",null,"This works well enough for now, but again long-term I\u2019d like to figure out a simpler solution that lets us load only the next and previous posts in ",(0,o.kt)("inlineCode",{parentName:"p"},"getStaticProps")," instead of the entire thing."),(0,o.kt)("p",null,"There\u2019s an interesting library by Hashicorp designed to make it possible to treat MDX files like a data source called ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/hashicorp/next-mdx-remote"},"Next MDX Remote")," that we will probably explore in the future. It should let us switch to dynamic slug-based routing which would give us access to the current pathname in ",(0,o.kt)("inlineCode",{parentName:"p"},"getStaticProps")," and give us a lot more power."),(0,o.kt)(r.X,{level:2,id:"wrapping-up",nextElement:{type:"paragraph"}},"Wrapping up"),(0,o.kt)("p",null,"Overall, building this little site with Next.js was a fun learning experience. I\u2019m always surprised at how complicated seemingly simple things end up being with a lot of these tools, but I\u2019m very bullish on the future of Next.js and looking forward to building the next iteration of ",(0,o.kt)("a",{parentName:"p",href:"https://tailwindcss.com"},"tailwindcss.com")," with it in the months to come."),(0,o.kt)("p",null,"If you\u2019re interested in checking out the codebase for this blog or even submitting a pull request to simplify any of the things I mentioned above, ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/tailwindcss/blog"},"check out the repository on GitHub"),"."),(0,o.kt)(k,{mdxType:"Footer"},"Want to talk about this post? ",(0,o.kt)("a",{href:"https://github.com/tailwindcss/tailwindcss/discussions/1987"},"Discuss this on GitHub \u2192")))}g.isMDXComponent=!0,g.layoutProps=u},73538:function(e,t,a){"use strict";a.d(t,{qk:function(){return g},YS:function(){return w},y8:function(){return y},nv:function(){return f},rU:function(){return x},ZM:function(){return b},Xo:function(){return c.X},at:function(){return j}});var n=a(92809),s=a(10219),o=a(86010),r=a(79980),p=a(85893),c=a(8657);const l=["as","className","light","dark"],m=["className"],i=["className"],k=["as","className"],d=["className"],u=["className"];function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e){let{as:t="div",className:a="",light:n,dark:o}=e,r=(0,s.Z)(e,l);return(0,p.jsxs)(t,h(h({className:`w-16 h-16 p-[0.1875rem] rounded-full ring-1 ring-slate-900/10 shadow overflow-hidden ${a}`},r),{},{children:[n&&(0,p.jsx)("div",{className:"aspect-w-1 aspect-h-1 bg-[length:100%] dark:hidden",style:{backgroundImage:`url(${n})`}}),o&&(0,p.jsx)("div",{className:"hidden aspect-w-1 aspect-h-1 bg-[length:100%] dark:block",style:{backgroundImage:`url(${o})`}})]}))}function w(e){let{className:t=""}=e,a=(0,s.Z)(e,m);return(0,p.jsx)("h2",h({className:`mt-8 font-semibold ${t}`},a))}function y(e){let{className:t=""}=e,a=(0,s.Z)(e,i);return(0,p.jsx)("p",h({className:`mt-4 text-3xl sm:text-4xl text-slate-900 font-extrabold tracking-tight dark:text-slate-50 ${t}`},a))}function f(e){let{as:t="p",className:a=""}=e,n=(0,s.Z)(e,k);return(0,p.jsx)(t,h({className:`mt-4 max-w-3xl space-y-6 ${a}`},n))}function x(e){let{className:t}=e,a=(0,s.Z)(e,d);return(0,p.jsx)(r.z,h({className:(0,o.Z)("mt-8",t)},a))}function b(e){let{className:t=""}=e,a=(0,s.Z)(e,u);return(0,p.jsx)("code",h({className:`font-mono text-slate-900 font-medium dark:text-slate-200 ${t}`},a))}let j={Simple:e=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"M5 11a4 4 0 0 1 4-4h30a4 4 0 0 1 4 4v26a4 4 0 0 1-4 4H9a4 4 0 0 1-4-4V11Z",fill:"currentColor",fillOpacity:e?".1":"0",stroke:"currentColor",strokeWidth:"2"}),(0,p.jsx)("path",{d:"M15 7v34",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),Playful:e=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"M5 8h36v32H5V8Z",fill:"currentColor",fillOpacity:e?".1":"0"}),(0,p.jsx)("path",{d:"M42 29V11a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v26a4 4 0 0 0 4 4h19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,p.jsx)("path",{d:"M33.662 41.736a1 1 0 0 1-1.1-1.322l3.08-8.68a1 1 0 0 1 1.736-.274l5.6 7.299a1 1 0 0 1-.637 1.596l-8.679 1.38Z",fill:e?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,p.jsx)("path",{d:"M14 7v34",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,p.jsx)("path",{d:"M22.8 19.949a2 2 0 0 1 2.4-1.5l5.851 1.352a2 2 0 0 1 1.5 2.399l-1.352 5.851a2 2 0 0 1-2.399 1.5l-5.851-1.352a2 2 0 0 1-1.5-2.399l1.352-5.851Z",fill:e?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Elegant:e=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"M6 8h32a4 4 0 0 1 4 4v28H6V8Z",fill:"currentColor",fillOpacity:e?".1":"0"}),(0,p.jsx)("path",{d:"M43 21v16a4 4 0 0 1-4 4H9a4 4 0 0 1-4-4V11a4 4 0 0 1 4-4h20M15 7v34",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,p.jsx)("path",{d:"M37 7c0 1.101 0 6-6 6 1.101 0 6 0 6 6 0-6 4.899-6 6-6-6 0-6-4.899-6-6ZM31 21c0 .734 0 4-4 4 .734 0 4 0 4 4 0-4 3.266-4 4-4-4 0-4-3.266-4-4Z",fill:e?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Brutalist:e=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("path",{d:"M9 41h30a4 4 0 0 0 4-4V11a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v26a4 4 0 0 0 4 4Z",fill:"currentColor",fillOpacity:e?".1":"0",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,p.jsx)("path",{d:"M15 7v34M17 13h-2M43 13h-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,p.jsx)("path",{d:"M21 29V15a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2Z",fill:e?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,p.jsx)("path",{d:"M25 31v2a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V19a2 2 0 0 0-2-2h-2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}},29852:function(e,t,a){"use strict";a.d(t,{B:function(){return x}});var n=a(92809),s=a(73538),o=a(7987),r=a(41664),p=a(87099),c=a.n(p),l=a(9008),m=a(11163),i=a(3905),k=a(85893);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const N={img:e=>(0,k.jsxs)("div",{className:"relative not-prose my-[2em] first:mt-0 last:mb-0 rounded-lg overflow-hidden",children:[(0,k.jsx)("img",u({},e)),(0,k.jsx)("div",{className:"absolute inset-0 rounded-lg ring-1 ring-inset ring-slate-900/10"})]}),Footer:({children:e})=>(0,k.jsx)("p",{className:"border-t border-slate-200 mt-8 pt-6 dark:border-slate-200/5",children:e})};a(95651);var h=a(86010);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}let y=c()("{dddd}, {MMMM} {DD}, {YYYY}"),f="max-w-3xl mx-auto xl:max-w-none xl:grid xl:grid-cols-[1fr_50rem] xl:gap-x-8";function x({children:e,meta:t,slug:a,latestPosts:n}){return(0,k.jsxs)("div",{className:"mx-auto mt-10 px-4 pb-28 sm:mt-16 sm:px-6 md:px-8 xl:px-12 xl:max-w-6xl",children:[(0,k.jsx)("main",{children:(0,k.jsxs)("article",{className:(0,h.Z)("relative pt-10",f),children:[(0,k.jsx)(b,{meta:t}),(0,k.jsx)("h1",{className:"col-span-full text-3xl sm:text-4xl sm:text-center xl:mb-16 font-extrabold tracking-tight text-slate-900 dark:text-slate-200",children:(0,k.jsx)(s.Xo,{children:t.title})}),(0,k.jsxs)("div",{className:"text-sm leading-6 mb-16 xl:mb-0",children:[(0,k.jsx)("div",{className:"hidden mb-5 pb-5 border-b border-slate-200 xl:block dark:border-slate-200/5",children:(0,k.jsx)(r.default,{href:"/blog",children:(0,k.jsxs)("a",{className:"group flex font-semibold text-slate-700 hover:text-slate-900 dark:text-slate-200 dark:hover:text-white",children:[(0,k.jsx)("svg",{viewBox:"0 -9 3 24",className:"overflow-visible mr-3 text-slate-400 w-auto h-6 group-hover:text-slate-600 dark:group-hover:text-slate-300",children:(0,k.jsx)("path",{d:"M3 0L0 3L3 6",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Go back to blog"]})})}),(0,k.jsxs)("dl",{children:[(0,k.jsx)("dt",{className:"sr-only",children:"Date"}),(0,k.jsx)("dd",{className:"absolute top-0 inset-x-0 text-slate-700 sm:text-center dark:text-slate-400",children:(0,k.jsx)("time",{dateTime:t.date,children:y.render(new Date(t.date))})}),(0,k.jsxs)("div",{className:"sm:flex sm:flex-wrap sm:justify-center xl:block",children:[(0,k.jsxs)("dt",{className:"sr-only",children:["Author",t.authors.length>1&&"s"]}),t.authors.map((e=>(0,k.jsxs)("dd",{className:"flex items-center font-medium mt-6 sm:mx-3 xl:mx-0",children:[(0,k.jsx)("img",{src:e.avatar,alt:"",className:"mr-3 w-10 h-10 rounded-full bg-slate-50 dark:bg-slate-800"}),(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"text-slate-900 dark:text-slate-200",children:e.name}),(0,k.jsxs)("a",{href:`https://twitter.com/${e.twitter}`,className:"text-sky-500 hover:text-sky-600 dark:text-sky-400",children:["@",e.twitter]})]})]},e.twitter)))]})]})]}),(0,k.jsx)("div",{className:"prose prose-slate dark:prose-dark",children:(0,k.jsx)(i.Zo,{components:N,children:e})})]})}),(0,k.jsx)("footer",{className:(0,h.Z)("mt-14 sm:mt-16",f),children:(0,k.jsxs)("div",{className:"col-start-2 pt-14 sm:pt-16 border-t border-slate-200 dark:border-slate-200/5",children:[(0,k.jsx)("h2",{className:"mb-10 font-semibold text-slate-900 dark:text-slate-200",children:"Latest articles"}),(0,k.jsx)("div",{className:"grid grid-cols-1 gap-y-10 gap-x-8 md:grid-cols-2",children:n.filter((e=>e.slug!==a)).slice(0,2).map((e=>(0,k.jsx)(o.Z,w(w({},e),{},{children:(0,k.jsx)("p",{children:e.description})}),e.slug)))})]})})]})}function b({meta:e}){let t=(0,m.useRouter)();return(0,k.jsxs)(l.default,{children:[(0,k.jsxs)("title",{children:[e.title," \u2013 GAMMA"]}),(0,k.jsx)("meta",{name:"twitter:site",content:"@tailwindcss"}),(0,k.jsx)("meta",{name:"twitter:creator",content:"@tailwindcss"}),(0,k.jsx)("meta",{name:"twitter:title",content:`${e.title} \u2013 GAMMA`}),(0,k.jsx)("meta",{name:"twitter:description",content:e.description}),e.image?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,k.jsx)("meta",{name:"twitter:image",content:`https://tailwindcss.com${e.image}`})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("meta",{name:"twitter:card",content:"summary"}),(0,k.jsx)("meta",{name:"twitter:image",content:`https://tailwindcss.com${a(21370).Z}`})]}),(0,k.jsx)("meta",{property:"og:url",content:`https://tailwindcss.com${t.pathname}`}),(0,k.jsx)("meta",{property:"og:type",content:"article"}),(0,k.jsx)("meta",{property:"og:title",content:`${e.title} \u2013 GAMMA`}),(0,k.jsx)("meta",{property:"og:description",content:e.description}),(0,k.jsx)("meta",{property:"og:image",content:`https://tailwindcss.com${e.image}`}),(0,k.jsx)("meta",{name:"description",content:e.description})]})}},70627:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/building-the-tailwind-blog",function(){return a(30667)}])}},function(e){e.O(0,[9774,3430,184,5855,4327,489,4500,2888,179],(function(){return t=70627,e(e.s=t);var t}));var t=e.O();_N_E=t}]);